"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.connectWebRTC = connectWebRTC;
var _yWebrtc = require("y-webrtc");
/**
 * External dependencies
 */
// @ts-ignore

/** @typedef {import('./types').ObjectType} ObjectType */
/** @typedef {import('./types').ObjectID} ObjectID */
/** @typedef {import('./types').CRDTDoc} CRDTDoc */

/**
 * Connect function to the WebRTC provider.
 *
 * @param {ObjectID}   objectId   The object ID.
 * @param {ObjectType} objectType The object type.
 * @param {CRDTDoc}    doc        The CRDT document.
 *
 * @return {Promise<() => void>} Promise that resolves when the connection is established.
 */
function connectWebRTC(objectId, objectType, doc) {
  const docName = `${objectType}-${objectId}`;
  new _yWebrtc.WebrtcProvider(docName, doc, {
    // @ts-ignore
    password: window.__experimentalCollaborativeEditingSecret
  });
  return Promise.resolve(() => true);
}
//# sourceMappingURL=connect-webrtc.js.map