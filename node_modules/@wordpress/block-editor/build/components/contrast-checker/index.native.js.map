{"version":3,"names":["_element","require","_reactNative","_colord","_names","_interopRequireDefault","_a11y","_a11y2","_i18n","_compose","_icons","_style","extend","namesPlugin","a11yPlugin","ContrastCheckerMessage","colordBackgroundColor","colordTextColor","backgroundColor","textColor","msgStyle","msg","brightness","__","useEffect","speak","iconStyle","usePreferredColorSchemeStyle","styles","createElement","View","style","Icon","icon","warning","Text","ContrastChecker","fallbackBackgroundColor","fallbackTextColor","fontSize","isLargeText","colord","hasTransparency","alpha","isReadable","level","size","_default","exports","default"],"sources":["@wordpress/block-editor/src/components/contrast-checker/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { Text, View } from 'react-native';\nimport { colord, extend } from 'colord';\nimport namesPlugin from 'colord/plugins/names';\nimport a11yPlugin from 'colord/plugins/a11y';\n\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { Icon, warning } from '@wordpress/icons';\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nextend( [ namesPlugin, a11yPlugin ] );\n\nfunction ContrastCheckerMessage( {\n\tcolordBackgroundColor,\n\tcolordTextColor,\n\tbackgroundColor,\n\ttextColor,\n\tmsgStyle,\n} ) {\n\tconst msg =\n\t\tcolordBackgroundColor.brightness() < colordTextColor.brightness()\n\t\t\t? __(\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a darker background color and/or a brighter text color.'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a brighter background color and/or a darker text color.'\n\t\t\t  );\n\n\t// Note: The `Notice` component can speak messages via its `spokenMessage`\n\t// prop, but the contrast checker requires granular control over when the\n\t// announcements are made. Notably, the message will be re-announced if a\n\t// new color combination is selected and the contrast is still insufficient.\n\tuseEffect( () => {\n\t\tspeak( __( 'This color combination may be hard for people to read.' ) );\n\t}, [ backgroundColor, textColor ] );\n\n\tconst iconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'block-editor-contrast-checker__icon' ],\n\t\tstyles[ 'block-editor-contrast-checker__icon-dark' ]\n\t);\n\n\treturn (\n\t\t<View style={ styles[ 'block-editor-contrast-checker' ] }>\n\t\t\t<Icon style={ iconStyle } icon={ warning } />\n\t\t\t<Text style={ msgStyle }>{ msg }</Text>\n\t\t</View>\n\t);\n}\n\nfunction ContrastChecker( {\n\tbackgroundColor,\n\tfallbackBackgroundColor,\n\tfallbackTextColor,\n\tfontSize, // font size value in pixels\n\tisLargeText,\n\ttextColor,\n} ) {\n\tconst msgStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'block-editor-contrast-checker__notice' ],\n\t\tstyles[ 'block-editor-contrast-checker__notice-dark' ]\n\t);\n\n\tif (\n\t\t! ( backgroundColor || fallbackBackgroundColor ) ||\n\t\t! ( textColor || fallbackTextColor )\n\t) {\n\t\treturn null;\n\t}\n\n\tconst colordBackgroundColor = colord(\n\t\tbackgroundColor || fallbackBackgroundColor\n\t);\n\tconst colordTextColor = colord( textColor || fallbackTextColor );\n\n\tconst hasTransparency =\n\t\tcolordBackgroundColor.alpha() !== 1 || colordTextColor.alpha() !== 1;\n\n\tif (\n\t\thasTransparency ||\n\t\tcolordTextColor.isReadable( colordBackgroundColor, {\n\t\t\tlevel: 'AA',\n\t\t\tsize:\n\t\t\t\tisLargeText || ( isLargeText !== false && fontSize >= 24 )\n\t\t\t\t\t? 'large'\n\t\t\t\t\t: 'small',\n\t\t} )\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ContrastCheckerMessage\n\t\t\tbackgroundColor={ backgroundColor }\n\t\t\ttextColor={ textColor }\n\t\t\tcolordBackgroundColor={ colordBackgroundColor }\n\t\t\tcolordTextColor={ colordTextColor }\n\t\t\tmsgStyle={ msgStyle }\n\t\t/>\n\t);\n}\n\nexport default ContrastChecker;\n"],"mappings":"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"}