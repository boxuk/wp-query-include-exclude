{"version":3,"names":["_element","require","_data","_components","_i18n","_store","_lockUnlock","BlockRemovalWarningModal","rules","clientIds","selectPrevious","blockNamesForPrompt","useSelect","select","unlock","blockEditorStore","getRemovalPromptData","clearBlockRemovalPrompt","setBlockRemovalRules","privateRemoveBlocks","useDispatch","useEffect","onConfirmRemoval","createElement","Modal","title","__","onRequestClose","length","style","listStyleType","paddingLeft","map","name","key","__experimentalHStack","justify","Button","variant","onClick"],"sources":["@wordpress/block-editor/src/components/block-removal-warning-modal/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tModal,\n\tButton,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport function BlockRemovalWarningModal( { rules } ) {\n\tconst { clientIds, selectPrevious, blockNamesForPrompt } = useSelect(\n\t\t( select ) =>\n\t\t\tunlock( select( blockEditorStore ) ).getRemovalPromptData()\n\t);\n\n\tconst {\n\t\tclearBlockRemovalPrompt,\n\t\tsetBlockRemovalRules,\n\t\tprivateRemoveBlocks,\n\t} = unlock( useDispatch( blockEditorStore ) );\n\n\t// Load block removal rules, simultaneously signalling that the block\n\t// removal prompt is in place.\n\tuseEffect( () => {\n\t\tsetBlockRemovalRules( rules );\n\t\treturn () => {\n\t\t\tsetBlockRemovalRules();\n\t\t};\n\t}, [ rules, setBlockRemovalRules ] );\n\n\tif ( ! blockNamesForPrompt ) {\n\t\treturn;\n\t}\n\n\tconst onConfirmRemoval = () => {\n\t\tprivateRemoveBlocks( clientIds, selectPrevious, /* force */ true );\n\t\tclearBlockRemovalPrompt();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Are you sure?' ) }\n\t\t\tonRequestClose={ clearBlockRemovalPrompt }\n\t\t>\n\t\t\t{ blockNamesForPrompt.length === 1 ? (\n\t\t\t\t<p>{ rules[ blockNamesForPrompt[ 0 ] ] }</p>\n\t\t\t) : (\n\t\t\t\t<ul style={ { listStyleType: 'disc', paddingLeft: '1rem' } }>\n\t\t\t\t\t{ blockNamesForPrompt.map( ( name ) => (\n\t\t\t\t\t\t<li key={ name }>{ rules[ name ] }</li>\n\t\t\t\t\t) ) }\n\t\t\t\t</ul>\n\t\t\t) }\n\t\t\t<p>\n\t\t\t\t{ blockNamesForPrompt.length > 1\n\t\t\t\t\t? __( 'Removing these blocks is not advised.' )\n\t\t\t\t\t: __( 'Removing this block is not advised.' ) }\n\t\t\t</p>\n\t\t\t<HStack justify=\"right\">\n\t\t\t\t<Button variant=\"tertiary\" onClick={ clearBlockRemovalPrompt }>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"primary\" onClick={ onConfirmRemoval }>\n\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t</Modal>\n\t);\n}\n"],"mappings":";;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAKA,IAAAG,KAAA,GAAAH,OAAA;AAKA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,WAAA,GAAAL,OAAA;AAhBA;AACA;AACA;;AAUA;AACA;AACA;;AAIO,SAASM,wBAAwBA,CAAE;EAAEC;AAAM,CAAC,EAAG;EACrD,MAAM;IAAEC,SAAS;IAAEC,cAAc;IAAEC;EAAoB,CAAC,GAAG,IAAAC,eAAS,EACjEC,MAAM,IACP,IAAAC,kBAAM,EAAED,MAAM,CAAEE,YAAiB,CAAE,CAAC,CAACC,oBAAoB,CAAC,CAC5D,CAAC;EAED,MAAM;IACLC,uBAAuB;IACvBC,oBAAoB;IACpBC;EACD,CAAC,GAAG,IAAAL,kBAAM,EAAE,IAAAM,iBAAW,EAAEL,YAAiB,CAAE,CAAC;;EAE7C;EACA;EACA,IAAAM,kBAAS,EAAE,MAAM;IAChBH,oBAAoB,CAAEV,KAAM,CAAC;IAC7B,OAAO,MAAM;MACZU,oBAAoB,CAAC,CAAC;IACvB,CAAC;EACF,CAAC,EAAE,CAAEV,KAAK,EAAEU,oBAAoB,CAAG,CAAC;EAEpC,IAAK,CAAEP,mBAAmB,EAAG;IAC5B;EACD;EAEA,MAAMW,gBAAgB,GAAGA,CAAA,KAAM;IAC9BH,mBAAmB,CAAEV,SAAS,EAAEC,cAAc,EAAE,WAAY,IAAK,CAAC;IAClEO,uBAAuB,CAAC,CAAC;EAC1B,CAAC;EAED,OACC,IAAAjB,QAAA,CAAAuB,aAAA,EAACpB,WAAA,CAAAqB,KAAK;IACLC,KAAK,EAAG,IAAAC,QAAE,EAAE,eAAgB,CAAG;IAC/BC,cAAc,EAAGV;EAAyB,GAExCN,mBAAmB,CAACiB,MAAM,KAAK,CAAC,GACjC,IAAA5B,QAAA,CAAAuB,aAAA,aAAKf,KAAK,CAAEG,mBAAmB,CAAE,CAAC,CAAE,CAAO,CAAC,GAE5C,IAAAX,QAAA,CAAAuB,aAAA;IAAIM,KAAK,EAAG;MAAEC,aAAa,EAAE,MAAM;MAAEC,WAAW,EAAE;IAAO;EAAG,GACzDpB,mBAAmB,CAACqB,GAAG,CAAIC,IAAI,IAChC,IAAAjC,QAAA,CAAAuB,aAAA;IAAIW,GAAG,EAAGD;EAAM,GAAGzB,KAAK,CAAEyB,IAAI,CAAQ,CACrC,CACC,CACJ,EACD,IAAAjC,QAAA,CAAAuB,aAAA,aACGZ,mBAAmB,CAACiB,MAAM,GAAG,CAAC,GAC7B,IAAAF,QAAE,EAAE,uCAAwC,CAAC,GAC7C,IAAAA,QAAE,EAAE,qCAAsC,CAC3C,CAAC,EACJ,IAAA1B,QAAA,CAAAuB,aAAA,EAACpB,WAAA,CAAAgC,oBAAM;IAACC,OAAO,EAAC;EAAO,GACtB,IAAApC,QAAA,CAAAuB,aAAA,EAACpB,WAAA,CAAAkC,MAAM;IAACC,OAAO,EAAC,UAAU;IAACC,OAAO,EAAGtB;EAAyB,GAC3D,IAAAS,QAAE,EAAE,QAAS,CACR,CAAC,EACT,IAAA1B,QAAA,CAAAuB,aAAA,EAACpB,WAAA,CAAAkC,MAAM;IAACC,OAAO,EAAC,SAAS;IAACC,OAAO,EAAGjB;EAAkB,GACnD,IAAAI,QAAE,EAAE,QAAS,CACR,CACD,CACF,CAAC;AAEV"}