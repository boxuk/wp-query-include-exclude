{"version":3,"names":["_classnames","_interopRequireDefault","require","_i18n","_compose","_htmlEntities","_data","_keycodes","_inserter","_store","ZWNBSP","exports","DefaultBlockAppender","isLocked","onAppend","showPrompt","placeholder","rootClientId","value","decodeEntities","__","_element","createElement","className","classnames","tabIndex","role","onKeyDown","event","ENTER","keyCode","SPACE","onClick","onFocus","default","position","isAppender","__experimentalIsQuick","_default","compose","withSelect","select","ownProps","getBlockCount","getSettings","getTemplateLock","blockEditorStore","isEmpty","bodyPlaceholder","withDispatch","dispatch","insertDefaultBlock","startTyping","undefined"],"sources":["@wordpress/block-editor/src/components/default-block-appender/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\nimport { store as blockEditorStore } from '../../store';\n\n/**\n * Zero width non-breaking space, used as padding for the paragraph when it is\n * empty.\n */\nexport const ZWNBSP = '\\ufeff';\n\nexport function DefaultBlockAppender( {\n\tisLocked,\n\tonAppend,\n\tshowPrompt,\n\tplaceholder,\n\trootClientId,\n} ) {\n\tif ( isLocked ) {\n\t\treturn null;\n\t}\n\n\tconst value =\n\t\tdecodeEntities( placeholder ) || __( 'Type / to choose a block' );\n\n\treturn (\n\t\t<div\n\t\t\tdata-root-client-id={ rootClientId || '' }\n\t\t\tclassName={ classnames( 'block-editor-default-block-appender', {\n\t\t\t\t'has-visible-prompt': showPrompt,\n\t\t\t} ) }\n\t\t>\n\t\t\t<p\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\t// We want this element to be styled as a paragraph by themes.\n\t\t\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n\t\t\t\trole=\"button\"\n\t\t\t\taria-label={ __( 'Add default block' ) }\n\t\t\t\t// A wrapping container for this one already has the wp-block className.\n\t\t\t\tclassName=\"block-editor-default-block-appender__content\"\n\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\tif ( ENTER === event.keyCode || SPACE === event.keyCode ) {\n\t\t\t\t\t\tonAppend();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tonClick={ () => onAppend() }\n\t\t\t\tonFocus={ () => {\n\t\t\t\t\tif ( showPrompt ) {\n\t\t\t\t\t\tonAppend();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ showPrompt ? value : ZWNBSP }\n\t\t\t</p>\n\t\t\t<Inserter\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tposition=\"bottom right\"\n\t\t\t\tisAppender\n\t\t\t\t__experimentalIsQuick\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst { getBlockCount, getSettings, getTemplateLock } =\n\t\t\tselect( blockEditorStore );\n\n\t\tconst isEmpty = ! getBlockCount( ownProps.rootClientId );\n\t\tconst { bodyPlaceholder } = getSettings();\n\n\t\treturn {\n\t\t\tshowPrompt: isEmpty,\n\t\t\tisLocked: !! getTemplateLock( ownProps.rootClientId ),\n\t\t\tplaceholder: bodyPlaceholder,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst { insertDefaultBlock, startTyping } =\n\t\t\tdispatch( blockEditorStore );\n\n\t\treturn {\n\t\t\tonAppend() {\n\t\t\t\tconst { rootClientId } = ownProps;\n\n\t\t\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\t\t\tstartTyping();\n\t\t\t},\n\t\t};\n\t} )\n)( DefaultBlockAppender );\n"],"mappings":"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"}