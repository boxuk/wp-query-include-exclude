{"version":3,"names":["_element","require","_i18n","_components","_icons","_index","_interopRequireDefault","LINK_DESTINATION_NONE","LINK_DESTINATION_CUSTOM","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","NEW_TAB_REL","icon","createElement","SVG","viewBox","xmlns","Path","d","fill","ImageURLInputUI","linkDestination","onChangeUrl","url","mediaType","mediaUrl","mediaLink","linkTarget","linkClass","rel","isOpen","setIsOpen","useState","popoverAnchor","setPopoverAnchor","openLinkUI","isEditingLink","setIsEditingLink","urlInput","setUrlInput","autocompleteRef","useRef","startEditLink","stopEditLink","closeLinkUI","getUpdatedLinkTargetSettings","value","newLinkTarget","undefined","updatedRel","rels","split","forEach","relVal","includes","push","join","filter","length","onFocusOutside","event","autocompleteElement","current","contains","target","onSubmitLinkChange","selectedDestination","getLinkDestinations","find","destination","href","preventDefault","onLinkRemove","linkDestinations","title","__","onSetHref","linkDestinationInput","onSetNewTab","updatedLinkTarget","onSetLinkRel","onSetLinkClass","advancedOptions","__experimentalVStack","spacing","ToggleControl","__nextHasNoMarginBottom","label","onChange","checked","TextControl","linkEditorValue","urlLabel","Fragment","ToolbarButton","linkIcon","className","onClick","ref","default","anchor","onClose","renderSettings","additionalControls","NavigableMenu","map","link","MenuItem","key","LinkEditor","onChangeInputValue","onSubmit","LinkViewer","onEditLinkClick","Button","close","exports","__experimentalImageURLInputUI"],"sources":["@wordpress/block-editor/src/components/url-popover/image-url-input-ui.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useRef, useState } from '@wordpress/element';\nimport {\n\tToolbarButton,\n\tButton,\n\tNavigableMenu,\n\tMenuItem,\n\tToggleControl,\n\tTextControl,\n\tSVG,\n\tPath,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { link as linkIcon, close } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLPopover from './index';\n\nconst LINK_DESTINATION_NONE = 'none';\nconst LINK_DESTINATION_CUSTOM = 'custom';\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\nconst NEW_TAB_REL = [ 'noreferrer', 'noopener' ];\n\nconst icon = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M0,0h24v24H0V0z\" fill=\"none\" />\n\t\t<Path d=\"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z\" />\n\t\t<Path d=\"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z\" />\n\t</SVG>\n);\n\nconst ImageURLInputUI = ( {\n\tlinkDestination,\n\tonChangeUrl,\n\turl,\n\tmediaType = 'image',\n\tmediaUrl,\n\tmediaLink,\n\tlinkTarget,\n\tlinkClass,\n\trel,\n} ) => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\tconst openLinkUI = () => {\n\t\tsetIsOpen( true );\n\t};\n\n\tconst [ isEditingLink, setIsEditingLink ] = useState( false );\n\tconst [ urlInput, setUrlInput ] = useState( null );\n\n\tconst autocompleteRef = useRef( null );\n\n\tconst startEditLink = () => {\n\t\tif (\n\t\t\tlinkDestination === LINK_DESTINATION_MEDIA ||\n\t\t\tlinkDestination === LINK_DESTINATION_ATTACHMENT\n\t\t) {\n\t\t\tsetUrlInput( '' );\n\t\t}\n\t\tsetIsEditingLink( true );\n\t};\n\n\tconst stopEditLink = () => {\n\t\tsetIsEditingLink( false );\n\t};\n\n\tconst closeLinkUI = () => {\n\t\tsetUrlInput( null );\n\t\tstopEditLink();\n\t\tsetIsOpen( false );\n\t};\n\n\tconst getUpdatedLinkTargetSettings = ( value ) => {\n\t\tconst newLinkTarget = value ? '_blank' : undefined;\n\n\t\tlet updatedRel;\n\t\tif ( newLinkTarget ) {\n\t\t\tconst rels = ( rel ?? '' ).split( ' ' );\n\t\t\tNEW_TAB_REL.forEach( ( relVal ) => {\n\t\t\t\tif ( ! rels.includes( relVal ) ) {\n\t\t\t\t\trels.push( relVal );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tupdatedRel = rels.join( ' ' );\n\t\t} else {\n\t\t\tconst rels = ( rel ?? '' )\n\t\t\t\t.split( ' ' )\n\t\t\t\t.filter(\n\t\t\t\t\t( relVal ) => NEW_TAB_REL.includes( relVal ) === false\n\t\t\t\t);\n\t\t\tupdatedRel = rels.length ? rels.join( ' ' ) : undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tlinkTarget: newLinkTarget,\n\t\t\trel: updatedRel,\n\t\t};\n\t};\n\n\tconst onFocusOutside = () => {\n\t\treturn ( event ) => {\n\t\t\t// The autocomplete suggestions list renders in a separate popover (in a portal),\n\t\t\t// so onFocusOutside fails to detect that a click on a suggestion occurred in the\n\t\t\t// LinkContainer. Detect clicks on autocomplete suggestions using a ref here, and\n\t\t\t// return to avoid the popover being closed.\n\t\t\tconst autocompleteElement = autocompleteRef.current;\n\t\t\tif (\n\t\t\t\tautocompleteElement &&\n\t\t\t\tautocompleteElement.contains( event.target )\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetIsOpen( false );\n\t\t\tsetUrlInput( null );\n\t\t\tstopEditLink();\n\t\t};\n\t};\n\n\tconst onSubmitLinkChange = () => {\n\t\treturn ( event ) => {\n\t\t\tif ( urlInput ) {\n\t\t\t\t// It is possible the entered URL actually matches a named link destination.\n\t\t\t\t// This check will ensure our link destination is correct.\n\t\t\t\tconst selectedDestination =\n\t\t\t\t\tgetLinkDestinations().find(\n\t\t\t\t\t\t( destination ) => destination.url === urlInput\n\t\t\t\t\t)?.linkDestination || LINK_DESTINATION_CUSTOM;\n\n\t\t\t\tonChangeUrl( {\n\t\t\t\t\thref: urlInput,\n\t\t\t\t\tlinkDestination: selectedDestination,\n\t\t\t\t} );\n\t\t\t}\n\t\t\tstopEditLink();\n\t\t\tsetUrlInput( null );\n\t\t\tevent.preventDefault();\n\t\t};\n\t};\n\n\tconst onLinkRemove = () => {\n\t\tonChangeUrl( {\n\t\t\tlinkDestination: LINK_DESTINATION_NONE,\n\t\t\thref: '',\n\t\t} );\n\t};\n\n\tconst getLinkDestinations = () => {\n\t\tconst linkDestinations = [\n\t\t\t{\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t\ttitle: __( 'Media File' ),\n\t\t\t\turl: mediaType === 'image' ? mediaUrl : undefined,\n\t\t\t\ticon,\n\t\t\t},\n\t\t];\n\t\tif ( mediaType === 'image' && mediaLink ) {\n\t\t\tlinkDestinations.push( {\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t\ttitle: __( 'Attachment Page' ),\n\t\t\t\turl: mediaType === 'image' ? mediaLink : undefined,\n\t\t\t\ticon: (\n\t\t\t\t\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<Path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n\t\t\t\t\t\t<Path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z\" />\n\t\t\t\t\t</SVG>\n\t\t\t\t),\n\t\t\t} );\n\t\t}\n\t\treturn linkDestinations;\n\t};\n\n\tconst onSetHref = ( value ) => {\n\t\tconst linkDestinations = getLinkDestinations();\n\t\tlet linkDestinationInput;\n\t\tif ( ! value ) {\n\t\t\tlinkDestinationInput = LINK_DESTINATION_NONE;\n\t\t} else {\n\t\t\tlinkDestinationInput = (\n\t\t\t\tlinkDestinations.find( ( destination ) => {\n\t\t\t\t\treturn destination.url === value;\n\t\t\t\t} ) || { linkDestination: LINK_DESTINATION_CUSTOM }\n\t\t\t).linkDestination;\n\t\t}\n\t\tonChangeUrl( {\n\t\t\tlinkDestination: linkDestinationInput,\n\t\t\thref: value,\n\t\t} );\n\t};\n\n\tconst onSetNewTab = ( value ) => {\n\t\tconst updatedLinkTarget = getUpdatedLinkTargetSettings( value );\n\t\tonChangeUrl( updatedLinkTarget );\n\t};\n\n\tconst onSetLinkRel = ( value ) => {\n\t\tonChangeUrl( { rel: value } );\n\t};\n\n\tconst onSetLinkClass = ( value ) => {\n\t\tonChangeUrl( { linkClass: value } );\n\t};\n\n\tconst advancedOptions = (\n\t\t<VStack spacing=\"3\">\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\tonChange={ onSetNewTab }\n\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t/>\n\t\t\t<TextControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\tvalue={ rel ?? '' }\n\t\t\t\tonChange={ onSetLinkRel }\n\t\t\t/>\n\t\t\t<TextControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Link CSS Class' ) }\n\t\t\t\tvalue={ linkClass || '' }\n\t\t\t\tonChange={ onSetLinkClass }\n\t\t\t/>\n\t\t</VStack>\n\t);\n\n\tconst linkEditorValue = urlInput !== null ? urlInput : url;\n\n\tconst urlLabel = (\n\t\tgetLinkDestinations().find(\n\t\t\t( destination ) => destination.linkDestination === linkDestination\n\t\t) || {}\n\t).title;\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ linkIcon }\n\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\tlabel={ url ? __( 'Edit link' ) : __( 'Insert link' ) }\n\t\t\t\taria-expanded={ isOpen }\n\t\t\t\tonClick={ openLinkUI }\n\t\t\t\tref={ setPopoverAnchor }\n\t\t\t/>\n\t\t\t{ isOpen && (\n\t\t\t\t<URLPopover\n\t\t\t\t\tanchor={ popoverAnchor }\n\t\t\t\t\tonFocusOutside={ onFocusOutside() }\n\t\t\t\t\tonClose={ closeLinkUI }\n\t\t\t\t\trenderSettings={ () => advancedOptions }\n\t\t\t\t\tadditionalControls={\n\t\t\t\t\t\t! linkEditorValue && (\n\t\t\t\t\t\t\t<NavigableMenu>\n\t\t\t\t\t\t\t\t{ getLinkDestinations().map( ( link ) => (\n\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\tkey={ link.linkDestination }\n\t\t\t\t\t\t\t\t\t\ticon={ link.icon }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\tsetUrlInput( null );\n\t\t\t\t\t\t\t\t\t\t\tonSetHref( link.url );\n\t\t\t\t\t\t\t\t\t\t\tstopEditLink();\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ link.title }\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ ( ! url || isEditingLink ) && (\n\t\t\t\t\t\t<URLPopover.LinkEditor\n\t\t\t\t\t\t\tclassName=\"block-editor-format-toolbar__link-container-content\"\n\t\t\t\t\t\t\tvalue={ linkEditorValue }\n\t\t\t\t\t\t\tonChangeInputValue={ setUrlInput }\n\t\t\t\t\t\t\tonSubmit={ onSubmitLinkChange() }\n\t\t\t\t\t\t\tautocompleteRef={ autocompleteRef }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ url && ! isEditingLink && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<URLPopover.LinkViewer\n\t\t\t\t\t\t\t\tclassName=\"block-editor-format-toolbar__link-container-content\"\n\t\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\t\tonEditLinkClick={ startEditLink }\n\t\t\t\t\t\t\t\turlLabel={ urlLabel }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon={ close }\n\t\t\t\t\t\t\t\tlabel={ __( 'Remove link' ) }\n\t\t\t\t\t\t\t\tonClick={ onLinkRemove }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</URLPopover>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport { ImageURLInputUI as __experimentalImageURLInputUI };\n"],"mappings":"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"}