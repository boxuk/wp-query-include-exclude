{"version":3,"names":["matchesAttributes","blockAttributes","variation","Object","entries","every","key","value","__experimentalGetMatchingVariation","variations","matches","filter","attributes","keys","length","exports"],"sources":["@wordpress/block-editor/src/utils/block-variation-transforms.js"],"sourcesContent":["/** @typedef {import('@wordpress/blocks').WPBlockVariation} WPBlockVariation */\n\nfunction matchesAttributes( blockAttributes, variation ) {\n\treturn Object.entries( variation ).every( ( [ key, value ] ) => {\n\t\tif (\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof blockAttributes[ key ] === 'object'\n\t\t) {\n\t\t\treturn matchesAttributes( blockAttributes[ key ], value );\n\t\t}\n\t\treturn blockAttributes[ key ] === value;\n\t} );\n}\n\n/**\n * Matches the provided block variations with a block's attributes. If no match\n * or more than one matches are found it returns `undefined`. If a single match is\n * found it returns it.\n *\n * This is a simple implementation for now as it takes into account only the attributes\n * of a block variation and not `InnerBlocks`.\n *\n * @param {Object}             blockAttributes - The block attributes to try to find a match.\n * @param {WPBlockVariation[]} variations      - A list of block variations to test for a match.\n * @return {WPBlockVariation | undefined} - If a match is found returns it. If not or more than one matches are found returns `undefined`.\n */\nexport const __experimentalGetMatchingVariation = (\n\tblockAttributes,\n\tvariations\n) => {\n\tif ( ! variations || ! blockAttributes ) return;\n\tconst matches = variations.filter( ( { attributes } ) => {\n\t\tif ( ! attributes || ! Object.keys( attributes ).length ) return false;\n\t\treturn matchesAttributes( blockAttributes, attributes );\n\t} );\n\tif ( matches.length !== 1 ) return;\n\treturn matches[ 0 ];\n};\n"],"mappings":";;;;;;AAAA;;AAEA,SAASA,iBAAiBA,CAAEC,eAAe,EAAEC,SAAS,EAAG;EACxD,OAAOC,MAAM,CAACC,OAAO,CAAEF,SAAU,CAAC,CAACG,KAAK,CAAE,CAAE,CAAEC,GAAG,EAAEC,KAAK,CAAE,KAAM;IAC/D,IACC,OAAOA,KAAK,KAAK,QAAQ,IACzB,OAAON,eAAe,CAAEK,GAAG,CAAE,KAAK,QAAQ,EACzC;MACD,OAAON,iBAAiB,CAAEC,eAAe,CAAEK,GAAG,CAAE,EAAEC,KAAM,CAAC;IAC1D;IACA,OAAON,eAAe,CAAEK,GAAG,CAAE,KAAKC,KAAK;EACxC,CAAE,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,kCAAkC,GAAGA,CACjDP,eAAe,EACfQ,UAAU,KACN;EACJ,IAAK,CAAEA,UAAU,IAAI,CAAER,eAAe,EAAG;EACzC,MAAMS,OAAO,GAAGD,UAAU,CAACE,MAAM,CAAE,CAAE;IAAEC;EAAW,CAAC,KAAM;IACxD,IAAK,CAAEA,UAAU,IAAI,CAAET,MAAM,CAACU,IAAI,CAAED,UAAW,CAAC,CAACE,MAAM,EAAG,OAAO,KAAK;IACtE,OAAOd,iBAAiB,CAAEC,eAAe,EAAEW,UAAW,CAAC;EACxD,CAAE,CAAC;EACH,IAAKF,OAAO,CAACI,MAAM,KAAK,CAAC,EAAG;EAC5B,OAAOJ,OAAO,CAAE,CAAC,CAAE;AACpB,CAAC;AAACK,OAAA,CAAAP,kCAAA,GAAAA,kCAAA"}