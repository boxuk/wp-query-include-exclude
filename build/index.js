(()=>{"use strict";var e={335:(e,t,r)=>{var n=r(609),o=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var n,u={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!s.hasOwnProperty(n)&&(u[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===u[n]&&(u[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:d,props:u,_owner:i.current}}},85:(e,t,r)=>{e.exports=r(335)},609:e=>{e.exports=window.React}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,r),l.exports}var n=r(609);const o=window.wp.blockEditor,l=window.wp.compose,i=window.wp.hooks,s=window.wp.element,u=window.wp.components,c=window.wp.i18n,d=window.wp.primitives;var a=r(85);const p=(0,a.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(d.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})}),w=window.wp.data,y=window.wp.coreData,m=({onChange:e,label:t,selected:r,postType:o})=>{var l;const i=null!==(l=(0,w.useSelect)((e=>e(y.store).getEntityRecords("postType",null!=o?o:"post",{per_page:-1,_fields:["id","title"],context:"edit"})),[o]))&&void 0!==l?l:[],s=i.filter((e=>{var t;return r?.includes(null!==(t=e.id)&&void 0!==t?t:0)})),d=e=>(0,c.sprintf)("%1$s (ID: %2$d)",e.title.rendered,e.id);return(0,n.createElement)(u.FormTokenField,{label:t,value:s.map(d),suggestions:i.map(d),onChange:t=>e(t.map((e=>{if("string"==typeof e){const t=(e=>{const t=e.match(/(.+)\(ID: (\d+)\)/);return!!t&&{id:parseInt(t[2],10),title:t[1].trim()}})(e);if(t&&!isNaN(t.id))return t.id}return!1})).filter((e=>!1!==e))),tokenizeOnBlur:!1})},f=({setAttributes:e,attributes:t})=>{const{query:r}=t,[o,l]=(0,s.useState)(!1);return r?.inherit?null:(0,n.createElement)(u.Panel,null,(0,n.createElement)(u.PanelBody,{title:"Specified Posts"},(0,n.createElement)(m,{label:(0,c.__)("Include","boxuk-query-include-exclude"),selected:r?.include||[],onChange:t=>{if(t.length>0)e({query:{...r,include:t}});else{const{include:t,...n}=r||{};e({query:n})}},postType:r?.postType}),(0,n.createElement)(m,{label:(0,c.__)("Exclude","boxuk-query-include-exclude"),selected:r?.exclude||[],onChange:t=>{e({query:{...r,exclude:t}})},postType:r?.postType}),(0,n.createElement)(u.Button,{onClick:()=>l(!o),icon:p},(0,c.__)("More Info","boxuk-query-include-exclude"),o&&(0,n.createElement)(u.Popover,null,(0,n.createElement)("div",{style:{minWidth:"200px"}},(0,n.createElement)(u.PanelBody,null,(0,c.__)("Marking posts to include will override any other query settings and force only these posts to be displayed. Using the exclude option will remove these posts from the query results but will respect other query settings.","boxuk-query-include-exclude")))))))};(0,i.addFilter)("editor.BlockEdit","boxuk/query-include-exclude",(0,l.createHigherOrderComponent)((e=>t=>"name"in t==0||"core/query"!==t.name?(0,n.createElement)(e,{...t}):(0,n.createElement)(n.Fragment,null,(0,n.createElement)(e,{...t}),(0,n.createElement)(o.InspectorControls,null,(0,n.createElement)(f,{...t})))),"boxuk-query-include-exclude"))})();